from oci_generated import *

# defines stuff that could not be generated by ctypesgen, or that were incorrectly generated

# broken because lhs is #defined first.
# /home/lameiro/projects/cx_oracle_on_ctypes/instantclient_11_2/sdk/include/oci.h: 1408
try:
    OCI_ATTR_ENV_NCHARSET_ID = OCI_ATTR_NCHARSET_ID
except:
    pass

# ctypesgen wrongly generated sb1 as char

sb1 = ctypes.c_byte

# ctypesgen did not include the OCITime in OCIDate!!!
class OCIDate(Structure):
    _fields_ = [
        ('OCIDateYYYY', sb2),
        ('OCIDateMM', ub1),
        ('OCIDateDD', ub1),
        ('OCIDateTime', OCITime),
    ]
    
# ctypesgen does not generate macros

def OCIDateGetDate(date):
    return date.OCIDateYYYY, date.OCIDateMM, date.OCIDateDD

def OCIDateSetDate(date, year, month, day):
    date.OCIDateYYYY, date.OCIDateMM, date.OCIDateDD = year, month, day

def OCIDateGetTime(date):
    time = date.OCIDateTime
    return time.OCITimeHH, time.OCITimeMI, time.OCITimeSS

def OCIDateSetTime(date, hour, minute, second):
    time = date.OCIDateTime
    time.OCITimeHH, time.OCITimeMI, time.OCITimeSS = hour, minute, second
